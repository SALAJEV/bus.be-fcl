<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDF viewer | bus.be filmcodelijsten</title>
  <meta name="theme-color" content="#ef5a2a" />
  <link rel="icon" href="media/favicon.ico" type="image/x-icon" />
  <style>
    :root {
      --main-orange: #ef5a2a;
      --orange-bright: #ff8a3d;
      --text-dark: #172838;
      --text-muted: #4a6074;
      --panel-bg: rgba(248, 251, 254, 0.86);
      --panel-border: rgba(255, 255, 255, 0.56);
      --bg-img: url('media/achtergrond-pc.jpg');
      --shadow: 0 18px 38px rgba(8, 20, 32, 0.24);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --text-dark: #edf5fc;
        --text-muted: #c8d8e5;
        --panel-bg: rgba(9, 18, 28, 0.86);
        --panel-border: rgba(174, 203, 224, 0.28);
        --shadow: 0 18px 38px rgba(0, 0, 0, 0.44);
      }
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Plus Jakarta Sans', 'Avenir Next', 'Montserrat', 'Trebuchet MS', sans-serif;
      min-height: 100vh;
      color: var(--text-dark);
      background:
        radial-gradient(circle at 12% 20%, rgba(255, 138, 61, 0.3) 0%, rgba(255, 138, 61, 0) 44%),
        radial-gradient(circle at 86% 82%, rgba(18, 69, 106, 0.36) 0%, rgba(18, 69, 106, 0) 56%),
        linear-gradient(138deg, rgba(7, 18, 28, 0.62), rgba(8, 24, 39, 0.34)),
        var(--bg-img) center/cover no-repeat fixed;
      padding: 16px;
    }

    .viewer-shell {
      width: min(1160px, 100%);
      margin: 0 auto;
      display: grid;
      gap: 12px;
    }

    .viewer-topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px;
      border-radius: 18px;
      border: 1px solid var(--panel-border);
      background: var(--panel-bg);
      backdrop-filter: blur(10px) saturate(130%);
      box-shadow: var(--shadow);
    }

    .topbar-main {
      min-width: 0;
    }

    .topbar-main h1 {
      font-size: clamp(1rem, 1vw + 0.8rem, 1.35rem);
      line-height: 1.2;
      color: var(--text-dark);
      overflow-wrap: anywhere;
    }

    .topbar-main p {
      margin-top: 4px;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .topbar-actions {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-height: 40px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255, 219, 193, 0.46);
      background: linear-gradient(135deg, var(--main-orange), var(--orange-bright));
      color: #ffffff;
      text-decoration: none;
      font-weight: 700;
      font-size: 0.92rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 10px 20px rgba(239, 90, 42, 0.34);
      cursor: pointer;
    }

    .btn:hover,
    .btn:focus-visible {
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(239, 90, 42, 0.4);
    }

    .btn-secondary {
      background: rgba(18, 39, 58, 0.18);
      border-color: var(--panel-border);
      color: var(--text-dark);
      box-shadow: none;
    }

    .viewer-card {
      border: 1px solid var(--panel-border);
      border-radius: 20px;
      background: var(--panel-bg);
      backdrop-filter: blur(8px) saturate(130%);
      box-shadow: var(--shadow);
      overflow: hidden;
      min-height: calc(100vh - 132px);
    }

    #pdfFrame {
      display: block;
      width: 100%;
      height: calc(100vh - 132px);
      border: none;
      background: #ffffff;
    }

    @media (max-width: 860px) {
      body {
        background:
          radial-gradient(circle at 18% 18%, rgba(255, 138, 61, 0.26) 0%, rgba(255, 138, 61, 0) 38%),
          linear-gradient(138deg, rgba(8, 20, 31, 0.6), rgba(9, 25, 40, 0.36)),
          url('media/achtergrond-gsm.jpg') center/cover no-repeat;
        padding: 12px;
      }

      .viewer-topbar {
        flex-direction: column;
        align-items: stretch;
      }

      .topbar-actions {
        justify-content: stretch;
      }

      .btn {
        flex: 1 1 auto;
      }

      .viewer-card,
      #pdfFrame {
        min-height: calc(100vh - 214px);
        height: calc(100vh - 214px);
      }
    }
  </style>
</head>
<body>
  <main class="viewer-shell">
    <section class="viewer-topbar" aria-label="PDF bedieningsbalk">
      <div class="topbar-main">
        <h1 id="pdfTitel">Filmcodelijst</h1>
        <p id="pdfStatus">PDF wordt geladen...</p>
      </div>
      <div class="topbar-actions">
        <button type="button" class="btn btn-secondary" id="terugKnop">Terug</button>
        <a class="btn" id="downloadPdf" href="./" download>Download</a>
      </div>
    </section>

    <section class="viewer-card" id="viewerCard">
      <iframe id="pdfFrame" title="PDF weergave"></iframe>
    </section>
  </main>

  <script>
    const PDF_PER_LOCATIE = {
      zwevegem: { titel: "Filmcodes Zwevegem", bestand: "media/filmcode-zwevegem.pdf" },
      diksmuide: { titel: "Filmcodes Diksmuide", bestand: "media/filmcode-diksmuide.pdf" },
      alles: { titel: "Alle filmcodes lijnbussen (TXT)", bestand: "media/filmcode-alles-lijnbus.pdf" },
      toerisme: { titel: "Filmcodes toerisme", bestand: "media/filmcode-toerisme.pdf" },
      allesToerisme: { titel: "Alle filmcodes touringcars (TXT)", bestand: "media/filmcode-alles-toerisme.pdf" }
    };

    function gaTerugNaarOverzicht() {
      window.location.href = "./index.html";
    }

    function zetLinks(bestandPad) {
      const downloadPdf = document.getElementById("downloadPdf");
      downloadPdf.href = bestandPad;
    }

    function initialiseerPdfViewer() {
      const params = new URLSearchParams(window.location.search);
      const locatie = params.get("locatie");
      const gekozenPdf = PDF_PER_LOCATIE[locatie];
      const titel = document.getElementById("pdfTitel");
      const status = document.getElementById("pdfStatus");
      const pdfFrame = document.getElementById("pdfFrame");

      if (!gekozenPdf) {
        titel.textContent = "Onbekende lijst";
        status.textContent = "De gekozen filmcodelijst bestaat niet.";
        pdfFrame.removeAttribute("src");
        zetLinks("./");
        return;
      }

      const weergaveUrl = gekozenPdf.bestand + "#view=FitH";
      document.title = gekozenPdf.titel + " | bus.be filmcodelijsten";
      titel.textContent = gekozenPdf.titel;
      status.textContent = "Gebruik de knoppen rechts om terug te gaan of te downloaden.";
      pdfFrame.setAttribute("src", weergaveUrl);
      zetLinks(gekozenPdf.bestand);
    }

    document.getElementById("terugKnop").addEventListener("click", gaTerugNaarOverzicht);
    window.addEventListener("DOMContentLoaded", initialiseerPdfViewer);
  </script>
</body>
</html>
